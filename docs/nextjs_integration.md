# Tim Nexus é›†æˆ Tim Rhythm Web ä½¿ç”¨è¯´æ˜

## ğŸ¯ æ¦‚è¿°

Tim Nexus ç°åœ¨ä½¿ç”¨ Tim Rhythm Web (Next.js) ä½œä¸ºæ³¢å½¢ç¼–è¾‘å™¨ï¼Œæä¾›ç°ä»£åŒ–çš„ Web ä½“éªŒã€‚

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: Next.js 15 + shadcn/ui + TypeScript
- **æ ·å¼**: Tailwind CSS
- **è“ç‰™**: Web Bluetooth API
- **éƒ¨ç½²**: é™æ€å¯¼å‡º (Static Export)

### æ–‡ä»¶ç»“æ„
```
tim_nexus/
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ rhythm/              # Next.js é™æ€å¯¼å‡ºäº§ç‰©
â”‚       â”œâ”€â”€ index.html       # ä¸»é¡µé¢
â”‚       â”œâ”€â”€ _next/           # Next.js é™æ€èµ„æº
â”‚       â””â”€â”€ _next/static/    # JS/CSS æ–‡ä»¶
â””â”€â”€ lib/
    â””â”€â”€ core/services/
        â””â”€â”€ local_web_server.dart  # æœ¬åœ° Web æœåŠ¡å™¨
```

## ğŸš€ éƒ¨ç½²æµç¨‹

### 1. æ„å»º Tim Rhythm Web
```bash
cd /Users/ddd/GitHub/tim_workspace/tim_rhythm_web
npm run build
```

### 2. éƒ¨ç½²åˆ° Tim Nexus
```bash
# ä½¿ç”¨éƒ¨ç½²è„šæœ¬
./deploy_to_nexus.sh

# æˆ–æ‰‹åŠ¨éƒ¨ç½²
mkdir -p ../tim_nexus/assets/rhythm
cp -r out/* ../tim_nexus/assets/rhythm/
```

### 3. æ›´æ–° Flutter èµ„æº
```bash
cd ../tim_nexus
flutter pub get
```

## ğŸ”§ æœ¬åœ° Web æœåŠ¡å™¨

### åŠŸèƒ½ç‰¹æ€§
- **é™æ€æ–‡ä»¶æœåŠ¡**: æä¾› Next.js é™æ€å¯¼å‡ºæ–‡ä»¶
- **CORS æ”¯æŒ**: è·¨åŸŸèµ„æºå…±äº«
- **èµ„æºæ˜ å°„**: è‡ªåŠ¨å¤„ç†é™æ€èµ„æºè·¯å¾„
- **é”™è¯¯å¤„ç†**: ä¼˜é›…çš„é”™è¯¯å¤„ç†

### è·¯å¾„æ˜ å°„
```
/ â†’ assets/rhythm/index.html
/_next/* â†’ assets/rhythm/_next/*
/public/* â†’ assets/rhythm/public/*
/api/* â†’ 404 (é™æ€å¯¼å‡ºä¸æ”¯æŒ API è·¯ç”±)
```

## ğŸ“± ä½¿ç”¨æ–¹å¼

### åœ¨ Tim Nexus ä¸­
1. æ‰“å¼€æ³¢å½¢ç¼–è¾‘å™¨é¡µé¢
2. ç³»ç»Ÿè‡ªåŠ¨åŠ è½½ Next.js ç‰ˆæœ¬
3. æ ‡é¢˜æ æ˜¾ç¤ºï¼š`æ³¢å½¢å·¥ä½œå°`

### åŠŸèƒ½ç‰¹æ€§
- **æ³¢å½¢ç¼–è¾‘**: å¯è§†åŒ–æ³¢å½¢ç¼–è¾‘ç•Œé¢
- **é¢„è®¾æ¨¡æ¿**: å¿ƒè·³ã€æ³¢æµªã€è„‰å†²ç­‰é¢„è®¾
- **æ’­æ”¾æ§åˆ¶**: æ’­æ”¾ã€æš‚åœã€åœæ­¢ã€è¿›åº¦æ§åˆ¶
- **è“ç‰™è¿æ¥**: Web Bluetooth API è®¾å¤‡è¿æ¥
- **å®æ—¶é¢„è§ˆ**: Canvas ç»˜åˆ¶çš„æ³¢å½¢å¯è§†åŒ–

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **Next.js æ„å»ºäº§ç‰©åŠ è½½å¤±è´¥**
   - æ£€æŸ¥ `assets/rhythm/index.html` æ˜¯å¦å­˜åœ¨
   - ç¡®è®¤é™æ€å¯¼å‡ºæ„å»ºæˆåŠŸ
   - æŸ¥çœ‹æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

2. **èµ„æºè·¯å¾„é”™è¯¯**
   - æ£€æŸ¥ `pubspec.yaml` ä¸­çš„ assets é…ç½®
   - ç¡®è®¤è·¯å¾„æ˜ å°„æ­£ç¡®
   - éªŒè¯æ–‡ä»¶æƒé™

3. **JavaScript é€šé“é€šä¿¡å¤±è´¥**
   - æ£€æŸ¥ WebView è®¾ç½®
   - ç¡®è®¤ JavaScript å·²å¯ç”¨
   - æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—

### è°ƒè¯•æ­¥éª¤

1. **æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—**
   ```dart
   print('è¯·æ±‚è·¯å¾„: $path');
   print('å°è¯•åŠ è½½èµ„æº: $assetPath');
   ```

2. **æ£€æŸ¥èµ„æºåŠ è½½**
   ```dart
   print('âœ… æä¾›èµ„æº: $assetPath (${bytes.length} bytes)');
   print('âŒ åŠ è½½èµ„æºå¤±è´¥: $assetPath - $e');
   ```

## ğŸ”„ å¼€å‘æµç¨‹

### å¼€å‘æ¨¡å¼
1. åœ¨ `tim_rhythm_web` ä¸­å¼€å‘
2. ä½¿ç”¨ `npm run dev` è¿›è¡Œæœ¬åœ°å¼€å‘
3. æµ‹è¯•å®Œæˆåæ„å»ºç”Ÿäº§ç‰ˆæœ¬

### éƒ¨ç½²æ¨¡å¼
1. è¿è¡Œ `npm run build` æ„å»ºé™æ€å¯¼å‡º
2. ä½¿ç”¨ `deploy_to_nexus.sh` éƒ¨ç½²
3. åœ¨ Tim Nexus ä¸­æµ‹è¯•é›†æˆæ•ˆæœ

## ğŸ“Š ä¼˜åŠ¿

### Next.js ç‰ˆæœ¬ä¼˜åŠ¿
- **æ›´å¥½çš„ Web ä½“éªŒ**: åŸç”Ÿå­—ä½“æ”¯æŒï¼Œæ—  FOUT é—®é¢˜
- **æ›´å¿«çš„åŠ è½½é€Ÿåº¦**: æ›´è½»é‡çš„ JavaScript åŒ…
- **æ›´ä¸°å¯Œçš„ç»„ä»¶**: shadcn/ui æä¾›æ›´å¤šé€‰æ‹©
- **æ›´å¥½çš„å¼€å‘ä½“éªŒ**: TypeScript ç±»å‹å®‰å…¨
- **æ›´ç°ä»£çš„æ¶æ„**: React Hooks + ç°ä»£ Web æŠ€æœ¯

### æ€§èƒ½å¯¹æ¯”
| ç‰¹æ€§ | Next.js | Flutter Web (å·²åºŸå¼ƒ) |
|------|---------|---------------------|
| åŠ è½½é€Ÿåº¦ | â­â­â­â­â­ | â­â­â­ |
| å­—ä½“æ¸²æŸ“ | â­â­â­â­â­ | â­â­â­ |
| äº¤äº’ä½“éªŒ | â­â­â­â­â­ | â­â­â­â­ |
| å¼€å‘æ•ˆç‡ | â­â­â­â­â­ | â­â­â­ |
| ç”Ÿæ€ç³»ç»Ÿ | â­â­â­â­â­ | â­â­â­ |

## ğŸ‰ æ€»ç»“

Tim Nexus ç°åœ¨å®Œå…¨ä½¿ç”¨ Next.js ä½œä¸ºæ³¢å½¢ç¼–è¾‘å™¨ï¼Œæä¾›äº†ï¼š
- **ç°ä»£åŒ–**: ä½¿ç”¨æœ€æ–°çš„ Web æŠ€æœ¯æ ˆ
- **é«˜æ€§èƒ½**: æ›´å¿«çš„åŠ è½½å’Œæ¸²æŸ“é€Ÿåº¦
- **æ˜“ç»´æŠ¤**: æ¸…æ™°çš„ä»£ç ç»“æ„å’Œç±»å‹å®‰å…¨
- **å¯æ‰©å±•**: ä¸°å¯Œçš„ç»„ä»¶åº“å’Œç”Ÿæ€ç³»ç»Ÿ

---

**Tim Nexus + Tim Rhythm Web** - è®©æ³¢å½¢åˆ›ä½œæ›´ç®€å• ğŸµ
